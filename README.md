# ğŸ“š å›¾ä¹¦ç®¡ç†ç³»ç»Ÿ (Library Management System)

ä¸€ä¸ªåŸºäº Java + H2 æ•°æ®åº“çš„å›¾ä¹¦ç®¡ç†ç³»ç»Ÿ,å®ç°äº†å›¾ä¹¦å€Ÿé˜…çš„å®Œæ•´ä¸šåŠ¡æµç¨‹ã€‚

## âœ¨ åŠŸèƒ½ç‰¹æ€§

- ğŸ“– **å›¾ä¹¦ç®¡ç†**: å›¾ä¹¦çš„å¢åˆ æ”¹æŸ¥ã€åˆ†ç±»ç®¡ç†ã€åº“å­˜ç®¡ç†
- ğŸ‘¥ **è¯»è€…ç®¡ç†**: è¯»è€…æ³¨å†Œã€ä¿¡æ¯ç®¡ç†ã€å€Ÿé˜…é™é¢æ§åˆ¶
- ğŸ”„ **å€Ÿè¿˜ç®¡ç†**: å›¾ä¹¦å€Ÿé˜…ã€å½’è¿˜ã€é€¾æœŸè®¡ç®—
- ğŸ“Š **è®°å½•æŸ¥è¯¢**: å€Ÿé˜…å†å²ã€æ´»è·ƒå€Ÿé˜…è®°å½•æŸ¥è¯¢
- ğŸ›¡ï¸ **ä¸šåŠ¡æ ¡éªŒ**: åº“å­˜æ£€æŸ¥ã€å€Ÿé˜…é™é¢éªŒè¯ã€äº‹åŠ¡ç®¡ç†

## ğŸ› ï¸ æŠ€æœ¯æ ˆ

- **è¯­è¨€**: Java 8
- **æ„å»ºå·¥å…·**: Maven
- **æ•°æ®åº“**: H2 Database (åµŒå…¥å¼æ•°æ®åº“)
- **æµ‹è¯•æ¡†æ¶**: JUnit 5
- **å·¥å…·åº“**: Hutool 5.8.25
- **æ—¥å¿—**: SLF4J Simple

## ğŸ“ é¡¹ç›®ç»“æ„

```
ClaudeCodeTest/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ main/
â”‚   â”‚   â”œâ”€â”€ java/com/xbk/
â”‚   â”‚   â”‚   â”œâ”€â”€ entity/          # å®ä½“ç±»
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ Book.java
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ Reader.java
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ BorrowRecord.java
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ Category.java
â”‚   â”‚   â”‚   â”œâ”€â”€ dao/              # æ•°æ®è®¿é—®å±‚æ¥å£
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ impl/         # DAOå®ç°ç±»
â”‚   â”‚   â”‚   â”œâ”€â”€ service/          # ä¸šåŠ¡é€»è¾‘å±‚æ¥å£
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ impl/         # Serviceå®ç°ç±»
â”‚   â”‚   â”‚   â”œâ”€â”€ util/             # å·¥å…·ç±»
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ DBUtil.java
â”‚   â”‚   â”‚   â””â”€â”€ Main.java         # ä¸»ç¨‹åº
â”‚   â”‚   â””â”€â”€ resources/
â”‚   â”‚       â””â”€â”€ db/
â”‚   â”‚           â””â”€â”€ schema.sql    # æ•°æ®åº“åˆå§‹åŒ–è„šæœ¬
â”‚   â””â”€â”€ test/
â”‚       â””â”€â”€ java/com/xbk/         # å•å…ƒæµ‹è¯•
â”œâ”€â”€ pom.xml                        # Mavené…ç½®æ–‡ä»¶
â””â”€â”€ README.md
```

## ğŸ—„ï¸ æ•°æ®åº“è®¾è®¡

### æ ¸å¿ƒè¡¨ç»“æ„

- **category** - å›¾ä¹¦åˆ†ç±»è¡¨
- **book** - å›¾ä¹¦ä¿¡æ¯è¡¨
- **reader** - è¯»è€…ä¿¡æ¯è¡¨
- **borrow_record** - å€Ÿé˜…è®°å½•è¡¨

### å…³é”®å­—æ®µè¯´æ˜

**å›¾ä¹¦è¡¨ (book)**
- `isbn`: å›½é™…æ ‡å‡†ä¹¦å· (å”¯ä¸€)
- `total_quantity`: æ€»è—ä¹¦é‡
- `available_quantity`: å¯å€Ÿæ•°é‡
- `location`: å›¾ä¹¦é¦†ä½ç½®

**å€Ÿé˜…è®°å½•è¡¨ (borrow_record)**
- `status`: å€Ÿé˜…çŠ¶æ€ (BORROWED/RETURNED)
- `due_date`: åº”è¿˜æ—¥æœŸ
- `fine`: ç½šé‡‘ (é€¾æœŸè®¡ç®—)

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚

- JDK 8 æˆ–æ›´é«˜ç‰ˆæœ¬
- Maven 3.x

### å®‰è£…æ­¥éª¤

1. **å…‹éš†é¡¹ç›®**
```bash
git clone https://github.com/small-xiexu/ClaudeCodeTest.git
cd ClaudeCodeTest
```

2. **ç¼–è¯‘é¡¹ç›®**
```bash
mvn clean compile
```

3. **è¿è¡Œç¨‹åº**
```bash
mvn exec:java -Dexec.mainClass="com.xbk.Main"
```

æˆ–è€…ç›´æ¥è¿è¡Œ Main ç±»:
```bash
java -cp target/classes com.xbk.Main
```

### è¿è¡Œæµ‹è¯•

```bash
mvn test
```

æµ‹è¯•æŠ¥å‘Šä¼šæ˜¾ç¤ºæ‰€æœ‰å•å…ƒæµ‹è¯•çš„æ‰§è¡Œç»“æœã€‚

## ğŸ“ ä½¿ç”¨ç¤ºä¾‹

### ç¤ºä¾‹ 1: æ·»åŠ å›¾ä¹¦

```java
Book book = new Book("978-7-115-54321-0", "Javaç¼–ç¨‹æ€æƒ³", "Bruce Eckel");
book.setPublisher("äººæ°‘é‚®ç”µå‡ºç‰ˆç¤¾");
book.setCategoryId(2);
book.setTotalQuantity(3);

bookService.addBook(book);
```

### ç¤ºä¾‹ 2: æ³¨å†Œè¯»è€…

```java
Reader reader = new Reader("R20251001", "å¼ ä¸‰", "ç”·", 
                          "13800138001", "zhangsan@example.com", 
                          "åŒ—äº¬å¸‚æœé˜³åŒº");
readerService.registerReader(reader);
```

### ç¤ºä¾‹ 3: å€Ÿé˜…å›¾ä¹¦

```java
// å‚æ•°: å›¾ä¹¦ID, è¯»è€…ID, å€Ÿé˜…å¤©æ•°
borrowService.borrowBook(1, 1, 30);
```

### ç¤ºä¾‹ 4: å½’è¿˜å›¾ä¹¦

```java
// å‚æ•°: å€Ÿé˜…è®°å½•ID
borrowService.returnBook(1);
```

## ğŸ—ï¸ æ ¸å¿ƒè®¾è®¡

### ä¸‰å±‚æ¶æ„

1. **DAOå±‚ (Data Access Object)**
   - è´Ÿè´£æ•°æ®åº“çš„ CRUD æ“ä½œ
   - ä½¿ç”¨ JDBC è¿›è¡Œæ•°æ®è®¿é—®
   - æ¥å£ä¸å®ç°åˆ†ç¦»

2. **Serviceå±‚ (Business Logic)**
   - å®ç°ä¸šåŠ¡é€»è¾‘å’Œè§„åˆ™éªŒè¯
   - äº‹åŠ¡ç®¡ç†å’Œå¼‚å¸¸å¤„ç†
   - è°ƒç”¨ DAO å±‚å®Œæˆæ•°æ®æ“ä½œ

3. **Entityå±‚ (Domain Model)**
   - å¯¹åº”æ•°æ®åº“è¡¨ç»“æ„çš„ Java å¯¹è±¡
   - POJO è®¾è®¡,åŒ…å« getter/setter

### å…³é”®ç‰¹æ€§

- âœ… **äº‹åŠ¡ç®¡ç†**: Serviceå±‚ç»Ÿä¸€å¤„ç†äº‹åŠ¡,ä¿è¯æ•°æ®ä¸€è‡´æ€§
- âœ… **ä¸šåŠ¡æ ¡éªŒ**: å€Ÿä¹¦å‰æ£€æŸ¥åº“å­˜å’Œå€Ÿé˜…é™é¢
- âœ… **åº“å­˜ç®¡ç†**: å€Ÿè¿˜ä¹¦è‡ªåŠ¨æ›´æ–°å›¾ä¹¦å¯å€Ÿæ•°é‡
- âœ… **é€¾æœŸè®¡ç®—**: å½’è¿˜æ—¶è‡ªåŠ¨è®¡ç®—ç½šé‡‘
- âœ… **å•å…ƒæµ‹è¯•**: DAOå±‚å’Œå·¥å…·ç±»å®Œæ•´æµ‹è¯•è¦†ç›–

## ğŸ“Š ç³»ç»ŸåŠŸèƒ½æ¼”ç¤º

è¿è¡Œ Main ç±»å,ç³»ç»Ÿä¼šè‡ªåŠ¨æ¼”ç¤ºä»¥ä¸‹æµç¨‹:

1. âœ“ åˆå§‹åŒ–æ•°æ®åº“
2. âœ“ æŸ¥çœ‹å›¾ä¹¦åˆ†ç±»
3. âœ“ æ·»åŠ å›¾ä¹¦
4. âœ“ æ³¨å†Œè¯»è€…
5. âœ“ å€Ÿé˜…å›¾ä¹¦
6. âœ“ æŸ¥çœ‹å€Ÿé˜…è®°å½•
7. âœ“ å½’è¿˜å›¾ä¹¦

## ğŸ“¦ ä¾èµ–è¯´æ˜

| ä¾èµ– | ç‰ˆæœ¬ | ç”¨é€” |
|------|------|------|
| h2 | 2.1.214 | åµŒå…¥å¼æ•°æ®åº“ |
| junit-jupiter | 5.9.3 | å•å…ƒæµ‹è¯•æ¡†æ¶ |
| hutool-all | 5.8.25 | Javaå·¥å…·åº“ |
| slf4j-simple | 1.7.36 | æ—¥å¿—å®ç° |

## ğŸ”§ é…ç½®è¯´æ˜

æ•°æ®åº“é…ç½®ä½äº `DBUtil.java`:

```java
private static final String URL = "jdbc:h2:~/library_db";
private static final String USER = "sa";
private static final String PASSWORD = "";
```

æ•°æ®åº“æ–‡ä»¶ä¼šä¿å­˜åœ¨ç”¨æˆ·ç›®å½•ä¸‹: `~/library_db.mv.db`

## ğŸ§ª æµ‹è¯•

é¡¹ç›®åŒ…å«ä»¥ä¸‹æµ‹è¯•:

- `DBUtilTest`: æ•°æ®åº“å·¥å…·ç±»æµ‹è¯•
- `CategoryDAOTest`: åˆ†ç±» DAO æµ‹è¯•

æµ‹è¯•ä½¿ç”¨ç‹¬ç«‹çš„æµ‹è¯•æ•°æ®åº“,ä¸ä¼šå½±å“ä¸»æ•°æ®åº“ã€‚

## ğŸ“„ License

MIT License

## ğŸ‘¤ ä½œè€…

- **xiexu**
- GitHub: [@small-xiexu](https://github.com/small-xiexu)

## ğŸ¤ è´¡çŒ®

æ¬¢è¿æäº¤ Issue å’Œ Pull Request!

---

â­ å¦‚æœè¿™ä¸ªé¡¹ç›®å¯¹ä½ æœ‰å¸®åŠ©,æ¬¢è¿ Star!
